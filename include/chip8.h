/*starts at 0x050
0xF0, 0x90, 0x90, 0x90, 0xF0, // 0
0x20, 0x60, 0x20, 0x20, 0x70, // 1
0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2
0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3
0x90, 0x90, 0xF0, 0x10, 0x10, // 4
0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5
0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6
0xF0, 0x10, 0x20, 0x40, 0x40, // 7
0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8
0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9
0xF0, 0x90, 0xF0, 0x90, 0x90, // A
0xE0, 0x90, 0xE0, 0x90, 0xE0, // B
0xF0, 0x80, 0x80, 0x80, 0xF0, // C
0xE0, 0x90, 0x90, 0x90, 0xE0, // D
0xF0, 0x80, 0xF0, 0x80, 0xF0, // E
0xF0, 0x80, 0xF0, 0x80, 0x80  // F
*/

#ifndef CHIP8_H
#define CHIP8_H

#include "raylib.h"

#define ENTRY_POINT 0x200
#define FONT_LOCATION 0x050


struct Chip8 {
    unsigned char *mem;
    unsigned char *registers;
    unsigned short i; // index register
    unsigned short pc; // program counter
    unsigned char delay_timer;
    unsigned char sound_timer;   
    RenderTexture2D screen;
    unsigned char display[32][64];

    // stack
    unsigned short stack[16];
    unsigned char sp; // stack pointer
};


struct Chip8 *initialize_chip(); // initializes chip8
void deinitialize_chip(struct Chip8 *chip);
void load_fonts(struct Chip8 *chip, int address); //loads fonts into memory

void read_rom(struct Chip8 *chip8, char *filename, int mem_location); // reads rom into memory

unsigned short fetch_instruction(struct Chip8 *chip, unsigned short mem_location); // fetches next instruciton
void execute_instruction(struct Chip8 *chip); // executes instruction (from fetch_instruction)
#endif